<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="t_da_sequence_Custom" >
  <resultMap id="ibatorgenerated_BaseResultMap" class="net.cominfo.digiagent.persistence.domain.Sequence" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Sep 27 00:16:04 CST 2010.
    -->
    <result column="NAME" property="name" jdbcType="VARCHAR" />
    <result column="NEXTID" property="nextid" jdbcType="INTEGER" />
  </resultMap>
  <select id="oracleSequence" resultMap="result">
    select '$name$' as name, $name$.nextval as nextid from dual
  </select>

  <select id="getSequence" resultMap="result">
    select name, nextid from sequence where name = #name#
  </select>

  <update id="updateSequence">
    update sequence set nextid = #nextId# where name = #name#
  </update>
</sqlMap>